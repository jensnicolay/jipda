<body>
    <input id='value' value='someValue' type='text' />
    <input type='button' value='CLICK' onclick='doIt()' />
    <script>
        function doIt() {
            var value = document.getElementById('value').value;
            $result$ = value;
        }

        function doVisit() {
            visit(document);
        }

        function visit(element) {
            var onclick = element.onclick;
            if (onclick) {
                onclick.apply(element, []);
            }
            var children = element.children;
            for (var i = 0; i < children.length; i++) {
                visit(children[i]);
            }
        }

        doVisit();
    </script>
</body>